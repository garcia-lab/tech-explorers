<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üéÆ Game Maker - Tech Explorers</title>
    <link href="https://fonts.googleapis.com/css2?family=Comic+Neue:wght@400;700&family=Varela+Round&family=Fira+Code&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <style>
        * { box-sizing: border-box; margin: 0; padding: 0; }
        
        body {
            font-family: 'Varela Round', sans-serif;
            background: linear-gradient(135deg, #4361ee, #7209b7);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container { max-width: 1100px; margin: 0 auto; }
        
        header {
            text-align: center;
            color: white;
            margin-bottom: 25px;
        }
        
        header h1 {
            font-family: 'Comic Neue', cursive;
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        
        .nav-links {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 15px;
        }
        
        .nav-links a {
            padding: 8px 18px;
            background: rgba(255,255,255,0.2);
            color: white;
            text-decoration: none;
            border-radius: 25px;
            font-weight: bold;
            transition: all 0.3s;
        }
        
        .nav-links a:hover { background: rgba(255,255,255,0.3); }
        
        .main-grid {
            display: grid;
            grid-template-columns: 300px 1fr;
            gap: 25px;
        }
        
        @media (max-width: 900px) {
            .main-grid { grid-template-columns: 1fr; }
        }
        
        .card {
            background: white;
            border-radius: 25px;
            padding: 25px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        
        .card h2 {
            color: #4361ee;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        /* Game Settings */
        .setting-group {
            margin-bottom: 20px;
        }
        
        .setting-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #333;
        }
        
        .emoji-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 8px;
        }
        
        .emoji-btn {
            padding: 12px;
            border: 3px solid #e9ecef;
            border-radius: 10px;
            background: white;
            font-size: 1.5rem;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .emoji-btn:hover { border-color: #4361ee; transform: scale(1.05); }
        .emoji-btn.active { border-color: #4361ee; background: #f0f4ff; }
        
        .color-picker {
            display: flex;
            gap: 10px;
            align-items: center;
        }
        
        .color-picker input[type="color"] {
            width: 60px;
            height: 45px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
        }
        
        .slider-group {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .slider-group input[type="range"] {
            flex: 1;
            height: 8px;
            -webkit-appearance: none;
            background: linear-gradient(90deg, #4361ee, #7209b7);
            border-radius: 5px;
        }
        
        .slider-group input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 20px;
            height: 20px;
            background: white;
            border: 3px solid #4361ee;
            border-radius: 50%;
            cursor: pointer;
        }
        
        .slider-value {
            min-width: 40px;
            text-align: center;
            font-weight: bold;
            color: #4361ee;
        }
        
        .game-type-picker {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .game-type-btn {
            padding: 15px;
            border: 3px solid #e9ecef;
            border-radius: 15px;
            background: white;
            cursor: pointer;
            text-align: left;
            transition: all 0.2s;
        }
        
        .game-type-btn:hover { border-color: #4361ee; }
        .game-type-btn.active { border-color: #4361ee; background: #f0f4ff; }
        
        .game-type-btn h4 {
            color: #333;
            margin-bottom: 5px;
        }
        
        .game-type-btn p {
            font-size: 0.85rem;
            color: #666;
        }
        
        /* Game Area */
        .game-container {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .game-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 20px;
            background: linear-gradient(135deg, #4361ee, #7209b7);
            border-radius: 15px;
            color: white;
        }
        
        .game-stats {
            display: flex;
            gap: 25px;
        }
        
        .game-stat {
            text-align: center;
        }
        
        .game-stat-value {
            font-size: 1.5rem;
            font-weight: bold;
        }
        
        .game-stat-label {
            font-size: 0.85rem;
            opacity: 0.8;
        }
        
        .game-area {
            position: relative;
            width: 100%;
            height: 400px;
            border-radius: 20px;
            overflow: hidden;
            cursor: pointer;
        }
        
        .target {
            position: absolute;
            font-size: 3rem;
            cursor: pointer;
            transition: transform 0.1s;
            user-select: none;
        }
        
        .target:hover { transform: scale(1.2); }
        
        .target.clicked {
            animation: pop 0.3s ease-out forwards;
        }
        
        @keyframes pop {
            0% { transform: scale(1.3); opacity: 1; }
            100% { transform: scale(0); opacity: 0; }
        }
        
        .click-effect {
            position: absolute;
            pointer-events: none;
            font-size: 1.5rem;
            animation: floatUp 0.8s ease-out forwards;
        }
        
        @keyframes floatUp {
            0% { opacity: 1; transform: translateY(0); }
            100% { opacity: 0; transform: translateY(-50px); }
        }
        
        .game-message {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            color: white;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }
        
        .game-message h3 {
            font-size: 2rem;
            margin-bottom: 15px;
        }
        
        .game-controls {
            display: flex;
            justify-content: center;
            gap: 15px;
        }
        
        .btn {
            padding: 15px 30px;
            border: none;
            border-radius: 30px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .btn:hover { transform: scale(1.05); }
        
        .btn-play {
            background: linear-gradient(135deg, #06d6a0, #4ade80);
            color: white;
        }
        
        .btn-stop {
            background: #f72585;
            color: white;
        }
        
        .btn-export {
            background: linear-gradient(135deg, #ffd166, #f59e0b);
            color: white;
        }
        
        /* High Scores */
        .high-scores {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 2px dashed #e9ecef;
        }
        
        .high-scores h3 {
            color: #333;
            margin-bottom: 15px;
        }
        
        .score-list {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        .score-item {
            display: flex;
            justify-content: space-between;
            padding: 10px 15px;
            background: #f8f9fa;
            border-radius: 10px;
        }
        
        .score-rank {
            font-weight: bold;
            color: #4361ee;
        }
        
        /* Toast */
        .toast {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: #333;
            color: white;
            padding: 15px 25px;
            border-radius: 10px;
            transform: translateY(100px);
            opacity: 0;
            transition: all 0.3s;
            z-index: 1000;
        }
        
        .toast.show { transform: translateY(0); opacity: 1; }
        
        /* Confetti */
        .confetti-container {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            pointer-events: none;
            overflow: hidden;
            z-index: 1000;
        }
        
        .confetti {
            position: absolute;
            animation: confettiFall 3s linear forwards;
        }
        
        @keyframes confettiFall {
            to { top: 110%; transform: rotate(720deg); }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üéÆ Game Maker</h1>
            <p>Create your own click-catching game!</p>
            <div class="nav-links">
                <a href="../index.html"><i class="fas fa-home"></i> Home</a>
                <a href="../activities/all-activities.html"><i class="fas fa-th"></i> Activities</a>
            </div>
        </header>
        
        <div class="main-grid">
            <!-- Settings Panel -->
            <div class="card">
                <h2><i class="fas fa-cog"></i> Game Settings</h2>
                
                <div class="setting-group">
                    <label>üéØ Target Character</label>
                    <div class="emoji-grid" id="target-picker">
                        <button class="emoji-btn active" data-emoji="‚≠ê">‚≠ê</button>
                        <button class="emoji-btn" data-emoji="üéà">üéà</button>
                        <button class="emoji-btn" data-emoji="ü¶ã">ü¶ã</button>
                        <button class="emoji-btn" data-emoji="üê±">üê±</button>
                        <button class="emoji-btn" data-emoji="üçé">üçé</button>
                        <button class="emoji-btn" data-emoji="üíé">üíé</button>
                        <button class="emoji-btn" data-emoji="üéÅ">üéÅ</button>
                        <button class="emoji-btn" data-emoji="üå∏">üå∏</button>
                    </div>
                </div>
                
                <div class="setting-group">
                    <label>üé® Background Color</label>
                    <div class="color-picker">
                        <input type="color" id="bg-color" value="#1a1a2e">
                        <span>Choose color</span>
                    </div>
                </div>
                
                <div class="setting-group">
                    <label>‚ö° Speed: <span id="speed-value">Medium</span></label>
                    <div class="slider-group">
                        <span>üê¢</span>
                        <input type="range" id="speed" min="1" max="5" value="3">
                        <span>üêá</span>
                    </div>
                </div>
                
                <div class="setting-group">
                    <label>üìä Max Targets: <span id="targets-value">5</span></label>
                    <div class="slider-group">
                        <span>1</span>
                        <input type="range" id="max-targets" min="1" max="10" value="5">
                        <span>10</span>
                    </div>
                </div>
                
                <div class="setting-group">
                    <label>‚è±Ô∏è Game Duration: <span id="duration-value">30s</span></label>
                    <div class="slider-group">
                        <span>15s</span>
                        <input type="range" id="duration" min="15" max="60" step="5" value="30">
                        <span>60s</span>
                    </div>
                </div>
                
                <div class="high-scores">
                    <h3>üèÜ High Scores</h3>
                    <div class="score-list" id="score-list">
                        <p style="color: #999; text-align: center;">Play to set a score!</p>
                    </div>
                </div>
            </div>
            
            <!-- Game Area -->
            <div class="card">
                <h2><i class="fas fa-gamepad"></i> Your Game</h2>
                
                <div class="game-container">
                    <div class="game-header">
                        <div class="game-stats">
                            <div class="game-stat">
                                <div class="game-stat-value" id="game-score">0</div>
                                <div class="game-stat-label">Score</div>
                            </div>
                            <div class="game-stat">
                                <div class="game-stat-value" id="game-time">30</div>
                                <div class="game-stat-label">Seconds</div>
                            </div>
                            <div class="game-stat">
                                <div class="game-stat-value" id="game-combo">0</div>
                                <div class="game-stat-label">Combo üî•</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="game-area" id="game-area">
                        <div class="game-message" id="game-message">
                            <h3>üéÆ Click Play to Start!</h3>
                            <p>Customize your game using the settings on the left</p>
                        </div>
                    </div>
                    
                    <div class="game-controls">
                        <button class="btn btn-play" id="play-btn" onclick="startGame()">
                            <i class="fas fa-play"></i> Play Game
                        </button>
                        <button class="btn btn-export" onclick="exportGame()">
                            <i class="fas fa-code"></i> Get Code
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="confetti-container" id="confetti"></div>
    <div class="toast" id="toast"></div>
    
    <script>
        let gameSettings = {
            target: '‚≠ê',
            bgColor: '#1a1a2e',
            speed: 3,
            maxTargets: 5,
            duration: 30
        };
        
        let gameState = {
            isPlaying: false,
            score: 0,
            combo: 0,
            timeLeft: 30,
            targets: [],
            timer: null,
            spawnTimer: null
        };
        
        // Target picker
        document.querySelectorAll('#target-picker .emoji-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                document.querySelectorAll('#target-picker .emoji-btn').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                gameSettings.target = btn.dataset.emoji;
            });
        });
        
        // Background color
        document.getElementById('bg-color').addEventListener('input', (e) => {
            gameSettings.bgColor = e.target.value;
            document.getElementById('game-area').style.background = e.target.value;
        });
        
        // Speed slider
        document.getElementById('speed').addEventListener('input', (e) => {
            const speeds = ['Very Slow', 'Slow', 'Medium', 'Fast', 'Very Fast'];
            gameSettings.speed = parseInt(e.target.value);
            document.getElementById('speed-value').textContent = speeds[e.target.value - 1];
        });
        
        // Max targets slider
        document.getElementById('max-targets').addEventListener('input', (e) => {
            gameSettings.maxTargets = parseInt(e.target.value);
            document.getElementById('targets-value').textContent = e.target.value;
        });
        
        // Duration slider
        document.getElementById('duration').addEventListener('input', (e) => {
            gameSettings.duration = parseInt(e.target.value);
            document.getElementById('duration-value').textContent = e.target.value + 's';
        });
        
        function startGame() {
            if (gameState.isPlaying) {
                endGame();
                return;
            }
            
            gameState.isPlaying = true;
            gameState.score = 0;
            gameState.combo = 0;
            gameState.timeLeft = gameSettings.duration;
            gameState.targets = [];
            
            document.getElementById('game-score').textContent = '0';
            document.getElementById('game-combo').textContent = '0';
            document.getElementById('game-time').textContent = gameState.timeLeft;
            document.getElementById('game-message').style.display = 'none';
            
            const playBtn = document.getElementById('play-btn');
            playBtn.innerHTML = '<i class="fas fa-stop"></i> Stop Game';
            playBtn.className = 'btn btn-stop';
            
            // Apply background
            document.getElementById('game-area').style.background = gameSettings.bgColor;
            
            // Start timer
            gameState.timer = setInterval(() => {
                gameState.timeLeft--;
                document.getElementById('game-time').textContent = gameState.timeLeft;
                
                if (gameState.timeLeft <= 0) {
                    endGame();
                }
            }, 1000);
            
            // Spawn targets
            const spawnInterval = 2000 / gameSettings.speed;
            gameState.spawnTimer = setInterval(spawnTarget, spawnInterval);
            spawnTarget();
        }
        
        function spawnTarget() {
            if (!gameState.isPlaying) return;
            if (gameState.targets.length >= gameSettings.maxTargets) return;
            
            const gameArea = document.getElementById('game-area');
            const rect = gameArea.getBoundingClientRect();
            
            const target = document.createElement('div');
            target.className = 'target';
            target.textContent = gameSettings.target;
            target.style.left = Math.random() * (rect.width - 60) + 'px';
            target.style.top = Math.random() * (rect.height - 60) + 'px';
            
            target.addEventListener('click', (e) => {
                e.stopPropagation();
                hitTarget(target);
            });
            
            gameArea.appendChild(target);
            gameState.targets.push(target);
            
            // Auto-remove after a while
            const lifetime = 4000 / gameSettings.speed;
            setTimeout(() => {
                if (target.parentNode && !target.classList.contains('clicked')) {
                    target.remove();
                    gameState.targets = gameState.targets.filter(t => t !== target);
                    gameState.combo = 0;
                    document.getElementById('game-combo').textContent = '0';
                }
            }, lifetime);
        }
        
        function hitTarget(target) {
            target.classList.add('clicked');
            
            gameState.combo++;
            const points = 10 + (gameState.combo * 2);
            gameState.score += points;
            
            document.getElementById('game-score').textContent = gameState.score;
            document.getElementById('game-combo').textContent = gameState.combo;
            
            // Show points effect
            const rect = target.getBoundingClientRect();
            const gameArea = document.getElementById('game-area');
            const gameRect = gameArea.getBoundingClientRect();
            
            const effect = document.createElement('div');
            effect.className = 'click-effect';
            effect.textContent = '+' + points;
            effect.style.left = (rect.left - gameRect.left) + 'px';
            effect.style.top = (rect.top - gameRect.top) + 'px';
            effect.style.color = gameState.combo >= 5 ? '#f72585' : '#06d6a0';
            gameArea.appendChild(effect);
            
            setTimeout(() => effect.remove(), 800);
            
            // Remove target
            setTimeout(() => {
                target.remove();
                gameState.targets = gameState.targets.filter(t => t !== target);
            }, 300);
        }
        
        function endGame() {
            gameState.isPlaying = false;
            
            clearInterval(gameState.timer);
            clearInterval(gameState.spawnTimer);
            
            // Clear targets
            gameState.targets.forEach(t => t.remove());
            gameState.targets = [];
            
            const playBtn = document.getElementById('play-btn');
            playBtn.innerHTML = '<i class="fas fa-play"></i> Play Again';
            playBtn.className = 'btn btn-play';
            
            // Show message
            const message = document.getElementById('game-message');
            message.style.display = 'block';
            message.innerHTML = `
                <h3>üéâ Game Over!</h3>
                <p>Your Score: ${gameState.score}</p>
            `;
            
            // Save high score
            saveHighScore(gameState.score);
            
            if (gameState.score > 100) {
                createConfetti();
            }
        }
        
        function saveHighScore(score) {
            let scores = JSON.parse(localStorage.getItem('gameMaker_scores') || '[]');
            scores.push(score);
            scores.sort((a, b) => b - a);
            scores = scores.slice(0, 5);
            localStorage.setItem('gameMaker_scores', JSON.stringify(scores));
            renderHighScores();
        }
        
        function renderHighScores() {
            const scores = JSON.parse(localStorage.getItem('gameMaker_scores') || '[]');
            const list = document.getElementById('score-list');
            
            if (scores.length === 0) {
                list.innerHTML = '<p style="color: #999; text-align: center;">Play to set a score!</p>';
                return;
            }
            
            const medals = ['ü•á', 'ü•à', 'ü•â', '4Ô∏è‚É£', '5Ô∏è‚É£'];
            list.innerHTML = scores.map((score, i) => `
                <div class="score-item">
                    <span class="score-rank">${medals[i]}</span>
                    <span>${score} points</span>
                </div>
            `).join('');
        }
        
        function exportGame() {
            const code = `<!-- Your Custom Click Game! -->
<!DOCTYPE html>
<html>
<head>
    <title>My Click Game</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }
        .game-area {
            width: 600px;
            height: 400px;
            background: ${gameSettings.bgColor};
            border-radius: 20px;
            position: relative;
            cursor: pointer;
        }
        .target {
            position: absolute;
            font-size: 3rem;
            cursor: pointer;
        }
        .stats {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <h1>üéÆ My Click Game</h1>
    <div class="stats">
        <div>Score: <span id="score">0</span></div>
        <div>Time: <span id="time">${gameSettings.duration}</span>s</div>
    </div>
    <div class="game-area" id="game"></div>
    <button onclick="start()">Play!</button>
    
    <script>
        let score = 0, time = ${gameSettings.duration};
        function start() {
            score = 0; time = ${gameSettings.duration};
            document.getElementById('score').textContent = score;
            setInterval(() => {
                time--;
                document.getElementById('time').textContent = time;
                if (time <= 0) alert('Game Over! Score: ' + score);
            }, 1000);
            setInterval(spawn, ${2000 / gameSettings.speed});
        }
        function spawn() {
            if (document.querySelectorAll('.target').length >= ${gameSettings.maxTargets}) return;
            const t = document.createElement('div');
            t.className = 'target';
            t.textContent = '${gameSettings.target}';
            t.style.left = Math.random() * 540 + 'px';
            t.style.top = Math.random() * 340 + 'px';
            t.onclick = () => { score += 10; t.remove(); document.getElementById('score').textContent = score; };
            document.getElementById('game').appendChild(t);
            setTimeout(() => t.remove(), ${4000 / gameSettings.speed});
        }
    <\/script>
    <footer style="background: #1a1a2e; color: white; padding: 20px; text-align: center; margin-top: 40px;">
        <p style="margin: 0; opacity: 0.8;">Made with ‚ù§Ô∏è by Tech Explorers | <a href="../index.html" style="color: #06d6a0;">Home</a> | <a href="../activities/all-activities.html" style="color: #06d6a0;">More Activities</a></p>
    </footer>
</body>
</html>`;
            
            navigator.clipboard.writeText(code).then(() => {
                showToast('‚úÖ Game code copied! Paste into an HTML file.');
            });
        }
        
        function createConfetti() {
            const container = document.getElementById('confetti');
            container.innerHTML = '';
            
            const colors = ['#4361ee', '#7209b7', '#f72585', '#ffd166', '#06d6a0'];
            
            for (let i = 0; i < 50; i++) {
                const piece = document.createElement('div');
                piece.className = 'confetti';
                piece.textContent = ['‚≠ê', 'üéâ', '‚ú®', 'üéÆ'][Math.floor(Math.random() * 4)];
                piece.style.fontSize = (Math.random() * 20 + 15) + 'px';
                piece.style.left = Math.random() * 100 + '%';
                piece.style.top = '-20px';
                piece.style.animationDuration = (Math.random() * 2 + 2) + 's';
                container.appendChild(piece);
            }
            
            setTimeout(() => container.innerHTML = '', 4000);
        }
        
        function showToast(message) {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.classList.add('show');
            setTimeout(() => toast.classList.remove('show'), 3000);
        }
        
        // Initialize
        document.getElementById('game-area').style.background = gameSettings.bgColor;
        renderHighScores();
    </script>
</body>
</html>
